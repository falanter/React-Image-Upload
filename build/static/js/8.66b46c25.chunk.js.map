{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Textname","div","Component","observer","useStores","HistoryStore","UserStore","loadMoreData","isLoading","find","useEffect","currentUser","message","warning","reset","id","style","height","overflow","padding","border","borderRadius","dataLength","list","next","hasMore","scrollableTarget","dataSource","renderItem","item","Item","src","attributes","url","filename","target","rel","href","paragraph","rows","active","plain","History","List"],"mappings":"qOAOMA,EAAMC,IAAOC,IAAV,qHAMHC,EAAWF,IAAOG,IAAV,sGA+ECC,EAzEGC,aAAS,WACzB,MAAoCC,cAA5BC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,UAChBC,EAAe,WAEhBF,EAAaG,WAGhBH,EAAaI,QAiBf,OAbAC,qBAAU,WAOR,OALGJ,EAAUK,YACXJ,IAEAK,IAAQC,QAAQ,kCAEX,WAELR,EAAaS,WAEd,IAGD,qBACEC,GAAG,gBACHC,MAAO,CACLC,OAAQ,IACRC,SAAU,OACVC,QAAS,SACTC,OAAQ,sCACRC,aAAa,GAPjB,SAUE,cAAC,IAAD,CACEC,WAAYjB,EAAakB,KACzBC,KAAMjB,EACNkB,SAAUpB,EAAaG,WAAWH,EAAaoB,QAC/CC,iBAAiB,gBAJnB,SAME,eAAC,IAAD,CACEC,WAAYtB,EAAakB,KACzBK,WACE,SAAAC,GAAI,OAAI,eAAC,IAAKC,KAAN,WACN,8BACE,cAACjC,EAAD,CAAKkC,IAAKF,EAAKG,WAAWC,IAAID,WAAWC,QAE3C,cAACjC,EAAD,UACE,6BAAK6B,EAAKG,WAAWE,aAEvB,8BACE,mBAAIC,OAAO,SAASC,IAAI,aAAaC,KAAMR,EAAKG,WAAWC,IAAID,WAAWC,IAA1E,SAAgFJ,EAAKG,WAAWC,IAAID,WAAWC,UAR3FJ,EAAKd,KAHjC,UAgBEV,EAAaG,WAAaH,EAAaoB,SACzC,8BACI,cAAC,IAAD,CAAWa,UAAW,CAAEC,KAAM,GAAKC,QAAM,OAG1CnC,EAAaG,YAAcH,EAAaoB,SAC3C,8BACI,cAAC,IAAD,CAASgB,OAAK,EAAd,8DCvEGC,UATf,WACE,OACE,qCACE,yCACA,cAACC,EAAD","file":"static/js/8.66b46c25.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { List, Skeleton, Divider, message} from 'antd';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { observer } from 'mobx-react';\nimport { useStores } from '../stores';\nimport styled from 'styled-components';\n\nconst Img = styled.img`\n  width: 100px;\n  height: 120px;\n  object-fit: contain;\n  // border: 1px solid #eee;\n`;\nconst Textname = styled.div`\n  margin:0 20px;\n  overflowÔºöhiddenÔºõ\n  border:1px solid #ccc;\n`;\n\nconst Component = observer(() => {\n  const { HistoryStore, UserStore } = useStores();\n  const loadMoreData = () => {\n    // console.log(UserStore.currentUser)\n    if(HistoryStore.isLoading){\n        return;\n    }\n    HistoryStore.find();\n    // console.log(HistoryStore.list);\n  };\n\n  useEffect(() => {\n    // console.log('ËøõÂÖ•ÁªÑ‰ª∂')\n    if(UserStore.currentUser){\n      loadMoreData();\n    }else{\n      message.warning('ËØ∑ÂÖàÁôªÂΩïÔºÅ');\n    }\n    return () => {\n      // console.log('Âç∏ËΩΩ')\n      HistoryStore.reset();\n    }\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div\n      id=\"scrollableDiv\"\n      style={{\n        height: 400,\n        overflow: 'auto',\n        padding: '0 16px',\n        border: '1px solid rgba(140, 140, 140, 0.35)',\n        borderRadius:5,\n      }}\n    >\n      <InfiniteScroll\n        dataLength={HistoryStore.list}\n        next={loadMoreData}\n        hasMore={!HistoryStore.isLoading&&HistoryStore.hasMore}\n        scrollableTarget=\"scrollableDiv\"\n      >\n        <List \n          dataSource={HistoryStore.list}\n          renderItem={\n            item => <List.Item key={item.id}>\n              <div>\n                <Img src={item.attributes.url.attributes.url}  />\n              </div>\n              <Textname>\n                <h5>{item.attributes.filename}</h5>\n              </Textname>  \n              <div>\n                <a  target=\"_blank\" rel=\"noreferrer\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\n              </div>\n            </List.Item>\n          }\n        >\n        { HistoryStore.isLoading && HistoryStore.hasMore && (\n        <div>\n            <Skeleton  paragraph={{ rows: 1 }} active />\n        </div>\n        )} \n        { !HistoryStore.isLoading && !HistoryStore.hasMore && (\n        <div>\n            <Divider plain>It is all, nothing more ü§ê</Divider>\n        </div>\n        )} \n        </List>\n      </InfiniteScroll>\n    </div>\n  );\n});\n\nexport default Component;","import React from 'react';\r\nimport List from '../components/List';\r\n\r\nfunction History() {\r\n  return (\r\n    <>\r\n      <h1>History</h1>\r\n      <List></List>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}